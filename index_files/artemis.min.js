(function(){"use strict";var br="https://artemis-cdn.ocdn.eu/fp/2.5.2/fp.min.js",nr=Object,ir=nr.create,Or=nr.keys,I=window,k=I.document,Er=function(r){return new Promise(function(e){return setTimeout(function(){return e()},r)})},Sr={}.toString,z=function(r){return Sr.call(r).slice(8,-1)},Rr=function(r){return z(r)==="Function"},ar=function(r){return z(r)==="Number"},F=function(r){return z(r)==="String"},or=function(r,e){return(F(e)||ar(e))&&Object.hasOwnProperty.call(r??Object,e)},Ir=function(r,e){return(F(r)||ar(r))&&Object.hasOwnProperty.call(e??Object,r)},w=function(r){for(var e=arguments.length,o=new Array(e>1?e-1:0),s=1;s<e;s++)o[s-1]=arguments[s];for(var c=0,l=o;c<l.length;c++){var v=l[c];if(!or(r,v))return;r=r[v]}return r},Q=function(r){for(var e=arguments.length,o=new Array(e>1?e-1:0),s=1;s<e;s++)o[s-1]=arguments[s];for(var c=0,l=o;c<l.length;c++){var v=l[c];or(r,v)||(r[v]={}),r=r[v]}return r},Lr=60,Dr=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;r.idReportingEnabled=Math.random()<e/100};function Tr(t,r){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var o,s,c,l,v=[],h=!0,A=!1;try{if(c=(e=e.call(t)).next,r===0){if(Object(e)!==e)return;h=!1}else for(;!(h=(o=c.call(e)).done)&&(v.push(o.value),v.length!==r);h=!0);}catch(O){A=!0,s=O}finally{try{if(!h&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(A)throw s}}return v}}function ur(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,o)}return e}function sr(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?ur(Object(e),!0).forEach(function(o){Nr(t,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ur(Object(e)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))})}return t}function P(){P=function(){return t};var t={},r=Object.prototype,e=r.hasOwnProperty,o=Object.defineProperty||function(n,i,a){n[i]=a.value},s=typeof Symbol=="function"?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",v=s.toStringTag||"@@toStringTag";function h(n,i,a){return Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}),n[i]}try{h({},"")}catch{h=function(i,a,d){return i[a]=d}}function A(n,i,a,d){var u=i&&i.prototype instanceof S?i:S,p=Object.create(u.prototype),m=new U(d||[]);return o(p,"_invoke",{value:Y(n,a,m)}),p}function O(n,i,a){try{return{type:"normal",arg:n.call(i,a)}}catch(d){return{type:"throw",arg:d}}}t.wrap=A;var y={};function S(){}function R(){}function g(){}var C={};h(C,c,function(){return this});var j=Object.getPrototypeOf,M=j&&j(j(q([])));M&&M!==r&&e.call(M,c)&&(C=M);var L=g.prototype=S.prototype=Object.create(C);function K(n){["next","throw","return"].forEach(function(i){h(n,i,function(a){return this._invoke(i,a)})})}function N(n,i){function a(u,p,m,b){var f=O(n[u],n,p);if(f.type!=="throw"){var E=f.arg,D=E.value;return D&&typeof D=="object"&&e.call(D,"__await")?i.resolve(D.__await).then(function(G){a("next",G,m,b)},function(G){a("throw",G,m,b)}):i.resolve(D).then(function(G){E.value=G,m(E)},function(G){return a("throw",G,m,b)})}b(f.arg)}var d;o(this,"_invoke",{value:function(u,p){function m(){return new i(function(b,f){a(u,p,b,f)})}return d=d?d.then(m,m):m()}})}function Y(n,i,a){var d="suspendedStart";return function(u,p){if(d==="executing")throw new Error("Generator is already running");if(d==="completed"){if(u==="throw")throw p;return X()}for(a.method=u,a.arg=p;;){var m=a.delegate;if(m){var b=$(m,a);if(b){if(b===y)continue;return b}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(d==="suspendedStart")throw d="completed",a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);d="executing";var f=O(n,i,a);if(f.type==="normal"){if(d=a.done?"completed":"suspendedYield",f.arg===y)continue;return{value:f.arg,done:a.done}}f.type==="throw"&&(d="completed",a.method="throw",a.arg=f.arg)}}}function $(n,i){var a=i.method,d=n.iterator[a];if(d===void 0)return i.delegate=null,a==="throw"&&n.iterator.return&&(i.method="return",i.arg=void 0,$(n,i),i.method==="throw")||a!=="return"&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+a+"' method")),y;var u=O(d,n.iterator,i.arg);if(u.type==="throw")return i.method="throw",i.arg=u.arg,i.delegate=null,y;var p=u.arg;return p?p.done?(i[n.resultName]=p.value,i.next=n.nextLoc,i.method!=="return"&&(i.method="next",i.arg=void 0),i.delegate=null,y):p:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,y)}function W(n){var i={tryLoc:n[0]};1 in n&&(i.catchLoc=n[1]),2 in n&&(i.finallyLoc=n[2],i.afterLoc=n[3]),this.tryEntries.push(i)}function _(n){var i=n.completion||{};i.type="normal",delete i.arg,n.completion=i}function U(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(W,this),this.reset(!0)}function q(n){if(n){var i=n[c];if(i)return i.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length)){var a=-1,d=function u(){for(;++a<n.length;)if(e.call(n,a))return u.value=n[a],u.done=!1,u;return u.value=void 0,u.done=!0,u};return d.next=d}}return{next:X}}function X(){return{value:void 0,done:!0}}return R.prototype=g,o(L,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:R,configurable:!0}),R.displayName=h(g,v,"GeneratorFunction"),t.isGeneratorFunction=function(n){var i=typeof n=="function"&&n.constructor;return!!i&&(i===R||(i.displayName||i.name)==="GeneratorFunction")},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,g):(n.__proto__=g,h(n,v,"GeneratorFunction")),n.prototype=Object.create(L),n},t.awrap=function(n){return{__await:n}},K(N.prototype),h(N.prototype,l,function(){return this}),t.AsyncIterator=N,t.async=function(n,i,a,d,u){u===void 0&&(u=Promise);var p=new N(A(n,i,a,d),u);return t.isGeneratorFunction(i)?p:p.next().then(function(m){return m.done?m.value:p.next()})},K(L),h(L,v,"Generator"),h(L,c,function(){return this}),h(L,"toString",function(){return"[object Generator]"}),t.keys=function(n){var i=Object(n),a=[];for(var d in i)a.push(d);return a.reverse(),function u(){for(;a.length;){var p=a.pop();if(p in i)return u.value=p,u.done=!1,u}return u.done=!0,u}},t.values=q,U.prototype={constructor:U,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!n)for(var i in this)i.charAt(0)==="t"&&e.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function a(f,E){return p.type="throw",p.arg=n,i.next=f,E&&(i.method="next",i.arg=void 0),!!E}for(var d=this.tryEntries.length-1;d>=0;--d){var u=this.tryEntries[d],p=u.completion;if(u.tryLoc==="root")return a("end");if(u.tryLoc<=this.prev){var m=e.call(u,"catchLoc"),b=e.call(u,"finallyLoc");if(m&&b){if(this.prev<u.catchLoc)return a(u.catchLoc,!0);if(this.prev<u.finallyLoc)return a(u.finallyLoc)}else if(m){if(this.prev<u.catchLoc)return a(u.catchLoc,!0)}else{if(!b)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return a(u.finallyLoc)}}}},abrupt:function(n,i){for(var a=this.tryEntries.length-1;a>=0;--a){var d=this.tryEntries[a];if(d.tryLoc<=this.prev&&e.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var u=d;break}}u&&(n==="break"||n==="continue")&&u.tryLoc<=i&&i<=u.finallyLoc&&(u=null);var p=u?u.completion:{};return p.type=n,p.arg=i,u?(this.method="next",this.next=u.finallyLoc,y):this.complete(p)},complete:function(n,i){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&i&&(this.next=i),y},finish:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.finallyLoc===n)return this.complete(a.completion,a.afterLoc),_(a),y}},catch:function(n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc===n){var d=a.completion;if(d.type==="throw"){var u=d.arg;_(a)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(n,i,a){return this.delegate={iterator:q(n),resultName:i,nextLoc:a},this.method==="next"&&(this.arg=void 0),y}},t}function lr(t,r,e,o,s,c,l){try{var v=t[c](l),h=v.value}catch(A){e(A);return}v.done?r(h):Promise.resolve(h).then(o,s)}function H(t){return function(){var r=this,e=arguments;return new Promise(function(o,s){var c=t.apply(r,e);function l(h){lr(c,o,s,l,v,"next",h)}function v(h){lr(c,o,s,l,v,"throw",h)}l(void 0)})}}function Nr(t,r,e){return r=_r(r),r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function kr(t,r){return Pr(t)||Tr(t,r)||Cr(t,r)||jr()}function Pr(t){if(Array.isArray(t))return t}function Cr(t,r){if(t){if(typeof t=="string")return cr(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return cr(t,r)}}function cr(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,o=new Array(r);e<r;e++)o[e]=t[e];return o}function jr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mr(t,r){if(typeof t!="object"||t===null)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var o=e.call(t,r||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function _r(t){var r=Mr(t,"string");return typeof r=="symbol"?r:String(r)}var T="=",B=";",Z=B+"domain"+T,fr=B+"expires"+T,Ur=B+"path"+T,x=B+"SameSite"+T+"None"+B+"Secure",dr="tld_cookie",pr=dr+T+"cookie",vr=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s="";if(o){var c=new Date;c.setDate(c.getDate()+o),s=fr+c.toUTCString()}k.cookie=r+T+e+s+Ur+"/"+Z+Fr()+x},hr=function(r){return rr(k.cookie,/;\s*/)[r]},rr=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&";return r.split(e).reduce(function(o,s){var c,l=(c=s.match(/^([^=]+)=(.*)$/))!==null&&c!==void 0?c:[0,s,""],v=kr(l,3),h=v[1],A=v[2];try{o[decodeURIComponent(""+h)]=decodeURIComponent(""+A)}catch{}return o},ir(null))},Gr=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",o=[];return Or(r).forEach(function(s){try{o.push(encodeURIComponent(s)+T+encodeURIComponent(r[s]))}catch{}}),o.join(e)},Fr=function(){for(var r=k.location.hostname.split("."),e="",o=r.length-2;o>=0;o--)if(e=r.slice(o).join("."),k.cookie=pr+Z+"."+e+x,k.cookie.indexOf(pr)>-1)return k.cookie=dr+T+Z+"."+e+fr+"Thu, 01 Jan 1970 00:00:01 GMT"+x,e},Jr=["expires_ms","ttl_ms","fp_ms"],$r=62,J=function(){var r=hr("ats_ri"),e=F(r)?rr(r):{};return Jr.forEach(function(o){var s=e[o];s!=null&&(e[o]=+s)}),e},er=function(r){vr("ats_ri",Gr(sr(sr({},J()),r)),$r)},qr=function(){vr("ats_ri","",-1)},mr=function(){return"0.5.8"},gr=function(r){Q(I,"ringDataLayer","user","id").artemis=r},yr=function(r){Q(I,"ringDataLayer","user","id","external").model=r},wr=function(r){Q(I,"ringDataLayer","user","id","external").models=r},Br=function(r){var e=r.dlApi,o=r.cfgFunc,s=r.dlApiRequire,c=s("tracking/events-api-browser");return new Promise(function(l,v){c.getTrackingID(function(){var h=H(P().mark(function A(O,y){var S,R,g,C,j,M,L,K,N,Y,$,W,_,U,q,X,n,i,a,d,u,p,m;return P().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!O){f.next=4;break}v(O),f.next=56;break;case 4:R=w(I,"ringDataLayer","user","sso"),R==null&&(g=hr("onet_uoi"),F(g)?(C=rr(g),R={name:"oKonto",id:C.n,logged:{md5:C.a}}):R={}),j={};try{j.id5=JSON.parse(decodeURIComponent(window.localStorage.id5)).original_uid}catch{}return M={ignoreId:Wr(y,Lr)},L=btoa(JSON.stringify({user:{id:{local:y,global:y},sso:R,external:{ids:j}},context:{url:e.du},version:mr(),flags:M})),K=[e==null||(S=e.getTid)===null||S===void 0?void 0:S.call(e),e.tid,"1746213"].filter(function(E){return F(E)&&E!==""})[0].replace(/^EA-/,""),f.prev=11,f.prev=12,f.next=15,fetch("https://events.ocdn.eu/v2/EA-"+K+"/user/"+L,{credentials:"include"});case 15:q=f.sent,f.next=21;break;case 18:throw f.prev=18,f.t0=f.catch(12),new Error("ArtemisFetchFail");case 21:return f.prev=21,f.next=24,q.text();case 24:X=f.sent,f.next=30;break;case 27:throw f.prev=27,f.t1=f.catch(21),new Error("ArtemisEmptyResponse");case 30:f.prev=30,n=JSON.parse(X),f.next=37;break;case 34:throw f.prev=34,f.t2=f.catch(30),Error("ArtemisBadJSON");case 37:i=(N=w(n,"cfg","cmds"))!==null&&N!==void 0?N:[],i.forEach(function(E){var D=E.shift();return Ir(D,o)?o[D].apply(null,E):e.errEvent("AppError","Unknown function '"+D+"' in cfg.cmds",null,"ArtemisUnknownFunction")}),a=1e3*((Y=w(n,"cfg","ttl"))!==null&&Y!==void 0?Y:0),d=($=w(n,"user","id","models"))!==null&&$!==void 0?$:{},u={ri:(W=w(n,"user","id","real"))!==null&&W!==void 0?W:"",model:(_=w(n,"user","id","model"))!==null&&_!==void 0?_:"",models:btoa(JSON.stringify(d)),ttl_ms:a,expires_ms:a+ +new Date,version:(U=w(n,"cfg","version"))!==null&&U!==void 0?U:""},p=J(),p.ri&&p.ri!==u.ri&&e.uaEvent("ArtemisChangedID","ArtemisEvent",JSON.stringify({newRi:u.ri,oldRi:p.ri})),er(u),gr(u.ri),yr(u.model),wr(d),r.idReportingEnabled&&e.uaEvent("ArtemisId","ArtemisEvent",JSON.stringify({ri:u.ri})),l(n),f.next=56;break;case 52:f.prev=52,f.t3=f.catch(11),e.errEvent("AppError",f.t3.message,null,(m={ArtemisBadJSON:"ArtemisBadJSON",ArtemisEmptyResponse:"ArtemisEmptyResponse",ArtemisFetchFail:"ArtemisFetchFail"}[f.t3.message])!==null&&m!==void 0?m:"ArtemisOther"),l();case 56:case"end":return f.stop()}},A,null,[[11,52],[12,18],[21,27],[30,34]])}));return function(A,O){return h.apply(this,arguments)}}())})},Kr=50,Yr=10,tr=function(){var t=H(P().mark(function r(e){var o,s;return P().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:o=0,s=Kr;case 2:return l.prev=3,l.next=6,Br(e);case 6:return l.abrupt("return",l.sent);case 9:if(l.prev=9,l.t0=l.catch(3),!((l.t0===null||l.t0===void 0?void 0:l.t0.message)!=="EventsApi did not initialize in time."||++o>Yr)){l.next=13;break}throw l.t0;case 13:return l.next=15,Er(s);case 15:s=s<<1,l.next=2;break;case 18:case"end":return l.stop()}},r,null,[[3,9]])}));return function(e){return t.apply(this,arguments)}}();function Wr(t,r){if(!F(t)||!t.match(/^\d{24}/))return!0;var e=+new Date(+t.slice(0,4),+t.slice(4,6)-1,+t.slice(6,8),+t.slice(8,10),+t.slice(10,12));return(+new Date-e)/6e4<r}var V=null,Xr=function(r){var e=J(),o=e.ri;return o!=null?new Promise(function(s){return s(o)}):(V==null&&(V=tr(r)),V.then(function(s){return V=null,w(s,"user","id","real")}))},Ar=1e3*60*60*24,Qr=function(r){var e=r.dlApiDefine,o=r.dlApiExec,s=r.dlApiRequire,c=J(),l=w(c,"fp_ms");l==null?(c.fp_ms=+new Date-Ar,er(c)):l+Ar<+new Date&&(e.mergeSources({fp:br}),setTimeout(function(){o(["fp"],H(P().mark(function v(){var h,A,O,y,S;return P().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!s.isError("fp")){g.next=3;break}g.next=13;break;case 3:return h=s("fp"),A=h.fp,O=s("tracking/events-api-browser"),g.next=7,A();case 7:y=g.sent,S=J().ri,S!=null&&S.match(/^\d{24}$/)&&(y.ats_ri=S),c.fp_ms=+new Date,er(c),O.send({event:"ArtemisEvent",fields:["ip","iz","il","dv","du","iv"]},y);case 13:case"end":return g.stop()}},v)})))},0))},Vr=function(r){var e,o=r.dlApi;if(w(I,"ringDataLayer","context","tracking","id5test"))try{var s=JSON.parse(decodeURIComponent(localStorage.getItem("id5"))).universal_uid;Q(I,"ringDataLayer","user","id","external").id5=s,o.uaEvent("id5test","ArtemisEvent",s)}catch{}var c=J();gr(w(c,"ri")),yr(w(c,"model")),wr(JSON.parse(atob((e=w(c,"models"))!==null&&e!==void 0?e:"e30="))),Qr(r);var l=w(c,"expires_ms");if(l>=+new Date){var v=w(c,"ttl_ms");v!=null&&setTimeout(function(){return tr(r)},v);return}tr(r)};dlApiDefine("artemis",["core","tracking"],function(t){var r=t.module;try{var e=ir(null),o={idReportingEnabled:!1,cfgFunc:e,dlApiDefine,dlApiRequire,dlApiExec};e.enableIdReporting=Dr.bind(null,o),e.clearAtsRi=qr.bind(null);var s=Vr.bind(null,o);r.exports={getVersion:mr,getArtemisId:Xr.bind(null,o),init:function(l){o.dlApi=l,!(k.documentMode||!Rr(fetch)||w(I,"ringDataLayer","user","consents","dnt")||!w(I,"ringDataLayer","context","tracking","autostart"))&&(l.on("afterChangeView",s),s())}}}catch{}})})();
